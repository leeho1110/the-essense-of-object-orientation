# 객체지향의 사실과 오해 : PART 3

## 타입과 추상화

### 추상화를 통한 복잡성 극복

우리는 매우 복잡한 문제에 대해서 본능적으로 이해하기 쉽고 예측 가능한 수준으로 현실을 분해하고 단순화한다. 즉, 현실에서 출발하되 불필요한 부분을 도려냄을 통해 사물의 본질을 드러나게 하여 단순화시키는 것을 **추상화** 라고 한다.

---

### 객체지향과 추상화

우리는 추상화를 할때 각 사물들을 경계를 가지고 구별하게 되는데 이를 객체지향 패러다임에서는 **객체**라고 한다.

경계라는 것은 각 사물들이 갖고있는 공통점이 다르다는 것을 의미하고, 공통점을 기반으로 객체들을 묶기 위한 그릇을 **개념(concept)**라고 한다. 그리고 개념을 이용하면 우린 객체를 여러 그룹으로 **분류(classification)**할 수 있다. 객체지향 패러다임에서는 이 분류가 객제지향의 품질을 결정한다. 따라서 최대한 직관적으로 분류해야 한다.

---

### 타입

사람들은 단순한 0,1의 나열 속에서 각 비트열에 특정한 의미를 부여했다. 데이터의 용도와 행동에 따라 숫자형, 문자열형, 논리형 등으로 분리해냈고 이를 **타입 시스템(type system)** 이라고 한다.

객체가 어떤 타입에 속하는지는 객체가 어떤 행동을 수행하는지가 결정한다. 다른 객체와 동일한 데이터를 갖더라도 다른 행동을 한다면 그 객체는 다르다.

여기서 **동일한 행동은 동일한 책임을 의미하며, 동일한 책임은 동일한 메시지 수신을 의미**한다. 여기서 다형성은 보통 동일한 요청에 서로 다른 방식으로 응답하는 것을 의미하는데, 동일한 메시지를 다른 방식으로 처리하려면 동일한 메시지를 수신할 수 있어야 한다. 결과적으로 **다형적인 객체들은 동일한 타입에 속한다**.

또한 행동만 객체의 타입 결정에 영향을 끼친다면 외부에 어떤 데이터를 갖는지를 감춰야 한다는 것을 의미한다. 따라서 훌륭한 객체지향 설계는 외부에 행동만을 제공하고 데이터를 감추는데 이 원칙을 우린 **캡슐화** 라고 한다.

---

### 타입의 계층

타입과 타입 사이에는 일반화, 특수화 관계가 존재 가능하다. **일반적인 타입(Super type)**은 특수한 타입에 비해 적은 수의 행동을 가지며, 특수한 타입은 그 반대다. 단, **특수한 타입(Sub type)**은 일반적인 타입이 할 수 있는 모든 행동을 동일하게 수행할 수 있어야 한다.

### 추상화를 통한 복잡성 극복

우리는 매우 복잡한 문제에 대해서 본능적으로 이해하기 쉽고 예측 가능한 수준으로 현실을 분해하고 단순화한다. 즉, 현실에서 출발하되 불필요한 부분을 도려냄을 통해 사물의 본질을 드러나게 하여 단순화시키는 것을 **추상화** 라고 한다.

추상화의 목적은 언제나 '복잡성을 이해하기 쉬운 수준으로 단순화하는 것'이라는 것을 명심하자.

---

### 객체지향과 추상화

우리는 추상화를 할때 각 사물들을 경계를 가지고 구별하게 된다. 날개를 달고 날아다닌다면? 아가미가 있고 물속에서 헤엄칠 수 있다면? 우리는 어떤 것의 공통적인 외형과 행동 방식을 통해 사물을 나눈다. 우리가 만약 참새,비둘기,기러기,독수리를 각각의 종류로 바라본다면 어떻게 될까. 광어,고등어,멸치? 정말 복잡해진다. 우리는 이를 '조류'와 '어류'로 단순화시켜 복잡성을 감소시킨다.

경계라는 것은 각 사물들이 갖고있는 공통점이 다르다는 것을 의미하고, 공통점을 기반으로 객체들을 묶기 위한 그릇을 **개념(concept)** 라고 한다. 그리고 개념을 이용하면 우린 객체를 여러 그룹으로 **분류(classification)** 할 수 있다. 결국 각 객체는 특정한 개념을 표현하는 그룹의 일원을 ㅗ포함된다. 이처럼 객체에 어떤 개념을 적용하는 것이 가능해 개념 그룹의 일원이 될 때 우리는 객체를 그 개념의 **인스턴스(instance)** 라고 한다.

---

### 타입

사람들은 단순한 0,1의 나열 속에서 각 비트열에 특정한 의미를 부여했다. 데이터의 용도와 행동에 따라 숫자형, 문자열형, 논리형 등으로 분리해냈고 이를 **타입 시스템(type system)** 이라고 한다.

객체가 어떤 타입에 속하는지는 객체가 어떤 행동을 수행하는지가 결정한다. 다른 객체와 동일한 데이터를 갖더라도 다른 행동을 한다면 그 객체는 다르다.

여기서 **동일한 행동은 동일한 책임을 의미하며, 동일한 책임은 동일한 메시지 수신을 의미**한다. 여기서 다형성은 보통 동일한 요청에 서로 다른 방식으로 응답하는 것을 의미하는데, 동일한 메시지를 다른 방식으로 처리하려면 동일한 메시지를 수신할 수 있어야 한다. 결과적으로 **다형적인 객체들은 동일한 타입에 속한다**.

우리는 행동만이 객체의 타입 결정에 영향을 끼친다는 것을 확인했다. 이는 외부에 어떤 데이터를 갖는지를 감춰야 한다는 것을 의미한다. 따라서 훌륭한 객체지향 설계는 외부에 행동만을 제공하고 데이터를 감추는데 이 원칙을 우린 **캡슐화** 라고 한다.

---

### 타입의 계층

타입과 타입 사이에는 일반화, 특수화 관계가 존재 가능하다. **일반적인 타입(Super type)** 은 특수한 타입에 비해 적은 수의 행동을 가지며, 특수한 타입은 그 반대다. 단, **특수한 타입(Sub type)** 은 일반적인 타입이 할 수 있는 모든 행동을 동일하게 수행할 수 있어야 한다.

---

### 정적 모델

그런데 처음으로 돌아가보자. 우리는 도대체 왜 타입을 사용해야할까. 그 이유는 인간은 너무 나약하기 때문이다. 사실 객체의 상태는 동적으로 계속 변화한다. 행동 하나에 따라 상태가 변하며, 심지어 변하지 않을수도 있다. 인간은 이처럼 시시각각 변화하는 상태의 복잡성을 감당하기 어렵다.

앨리스는 음료수를 먹고 최홍만처럼 키가 커져버릴수도, 앤트맨처럼 작아져버릴수도 있다. 우리는 앨리스가 가질 수 있는 키의 값을 모두 나열하는 대신 앨리스의 '키'가 임의의 값을 가질 수 있다는 사실만을 생각해 상황을 단순화시킬 수 있다. 즉, 타입은 앨리스의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.

그래서 결국 타입은 추상화다. 타입을 통해서 객체의 동적인 특성을 추상화하고 시간에 따른 객체의 상태 변경이라는 복잡성을 단순화시킬 수 있다.게 수행할 수 있어야 한다.
